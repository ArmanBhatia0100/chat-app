(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{320:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(22),r=a.n(n),i=a(2),l=a(27),m=a(9),o=a(327),d=a(328),j=(a(320),a(3));var u=function(e){var t=Object(s.useState)(""),a=Object(m.a)(t,2),c=a[0],n=a[1],r=e.chatId,i=e.creds,u=function(e){e.preventDefault();var t=c.trim();t.length>0&&(Object(l.t)(i,r,{text:t}),n(""))};return Object(j.jsx)("div",{className:"form__container",children:Object(j.jsxs)("form",{className:"message-form",onSubmit:u,children:[Object(j.jsx)("input",{className:"message-input",placeholder:"Send a message...",value:c,onChange:function(t){n(t.target.value),Object(l.p)(e,r)},onSubmit:u}),Object(j.jsx)("label",{htmlFor:"upload-button",children:Object(j.jsx)("span",{children:Object(j.jsx)(o.a,{className:"picture-icon"})})}),Object(j.jsx)("input",{type:"file",multiple:!1,id:"upload-button",style:{display:"none"},onChange:function(e){Object(l.t)(i,r,{files:e.target.files,text:""})}.bind(this)}),Object(j.jsx)("button",{type:"submit",className:"send-button",children:Object(j.jsx)(d.a,{})})]})})};a(322);var b=function(e){var t=e.message;return t.attachments&&t.attachments.length>0?Object(j.jsx)("div",{className:"img__container",children:Object(j.jsx)("img",{src:t.attachments[0].file,alt:"message-img",className:"message_image",style:{width:"260px",height:"180px"}})}):Object(j.jsx)("div",{className:"message",style:{float:"right",marginRight:"18px",color:"white",backgroundColor:"#3B2A50"},children:t.text})};var h=function(e){var t=e.lastMessage,a=e.message,s=!t||t.sender.username!==a.sender.username;return Object(j.jsxs)("div",{className:"message_row",children:[s&&Object(j.jsx)("div",{className:"message__avatar",style:{backgroundImage:a.sender&&"url(".concat(a.sender.avatar,")")}}),a.attachments&&a.attachments.length>0?Object(j.jsx)("img",{src:a.attachment[0].file,alt:"message-img",className:"message_image",style:{float:"right"}}):Object(j.jsx)("div",{className:"message",style:{float:"left",marginLeft:s?"4px":"48px",color:"white",backgroundColor:"#CABCDC"},children:a.text})]})};a(323);var g=function(e){var t=function(e,t){r.people.map((function(e,a){return e.last_read===n.id&&Object(j.jsx)("div",{className:"read-reciept",style:{float:t?"right":"left",backgroundImage:e.person.avatar&&"url(".concat(e.person.avatar,")")}},"read".concat(a))}))},a=e.chats,s=e.activeChat,c=e.userName,n=e.messages,r=a&&a[s];return Object(j.jsxs)("div",{className:"chat__feed",style:{border:"1px solid blue"},children:[Object(j.jsxs)("div",{className:"chat-title-container",children:[Object(j.jsx)("div",{className:"chat-title",children:null===r||void 0===r?void 0:r.title}),Object(j.jsx)("div",{className:"subTitle",children:"This is a demo project by Arman"}),Object(j.jsx)("div",{style:{height:"100px"}})]}),Object(j.jsxs)("div",{className:"Chat__container",children:[Object(j.jsx)("div",{className:"message__conatiner",children:function(){var e=Object.keys(n);return e.map((function(a,s){var r=n[a],i=0===s?null:e[s-1],l=c===r.sender.username;return Object(j.jsxs)("div",{style:{width:"100%"},children:[Object(j.jsx)("div",{className:"message__block",children:l?Object(j.jsx)(b,{message:r}):Object(j.jsx)(h,{message:r,lastMessage:n[i]})}),Object(j.jsx)("div",{className:"read__receipts",style:{marginRight:l?"18px":"0px",marginLeft:l?"0px":"68px"},children:t(0,l)})]},"mesg_".concat(s))}))}()}),Object(j.jsx)("div",{className:"message_form_container",children:Object(j.jsx)(u,Object(i.a)(Object(i.a)({},e),{},{chatId:s}))})]})]})};a(324);var x=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(l.d,{userName:"arman001",userSecret:"qwert",projectID:"e5356c73-df2c-4768-92da-2c9ee1a09045",renderChatFeed:function(e){return Object(j.jsx)(g,Object(i.a)({},e))},onNewMessage:function(){return new Audio("https://chat-engine-assets.s3.amazonaws.com/click.mp3").play()}})})};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root"))}},[[325,1,2]]]);
//# sourceMappingURL=main.04318cbb.chunk.js.map